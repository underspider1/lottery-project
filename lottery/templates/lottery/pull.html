{% extends 'base.html' %}
{% load static %}
<!DOCTYPE html>

 <head>
    <title>Pull</title>
 </head>
<body>
    {% block content %}
        {% if banner %}
            <h1>{{ banner.name }}</h1>

            <p>Gems: <span id="gems">{{ user.profile.balance }}</span> </p> <p>

            <select id="banner-select" style="display: none;">
                <option value="{{ banner.id }}" selected>{{ banner.name }}</option>
            </select>

            <form id="pull-form" method="post" action="{% url 'pull' banner.id %}"> <!--- Form, with action. -->
                {% csrf_token %}
                <button id="spin-button" type="submit">Pull!</button>
     
             <div id="result"></div>
        {% else %}
            <p>No banner selected or available.</p>
        {% endif %}

        <a href="{% url 'home' %}">Back Home</a> <p> <!--- Moved outside the conditional -->


        <script src="{% static 'js/pull.js' %}" type="module"></script>  <!--- JavaScript at the end -->
    
    {% endblock %}
</body>
</html>